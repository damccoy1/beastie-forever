<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><!-- start: printthread -->
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<title> Valgrind bytes lost in newInteger? - Printable Version</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style type="text/css">
body { font-family: Verdana, Arial, sans-serif; font-size: 13px; }
.largetext { font-family: Verdana, Arial, sans-serif; font-size: medium; font-weight: bold; }
img { max-width: 100%; height: auto; }
</style>
</head>
<body>
<table width="98%" align="center">
<tr>
<td valign="top"><a href="index.php"><img src="http://beastie.cs.ua.edu/forum/images/worm-logo.jpg" alt="Forums" title="Forums" border="0" /></a></td>
</tr>
<tr>
<td>
<span class="largetext"> <a href="showthread.php?tid=85">Valgrind bytes lost in newInteger?</a> - Printable Version</span><br />
<br />
+- Forums (<em>http://beastie.cs.ua.edu/forum</em>)<br />
<!-- start: printthread_nav -->
+-- Forum: CS201 (<i>http://beastie.cs.ua.edu/forum/forumdisplay.php?fid=1</i>)<br />
<!-- end: printthread_nav --><!-- start: printthread_nav -->
+--- Forum: Project 0 (<i>http://beastie.cs.ua.edu/forum/forumdisplay.php?fid=6</i>)<br />
<!-- end: printthread_nav -->
+--- Thread:  Valgrind bytes lost in newInteger? (<em>/showthread.php?tid=85</em>)<br />
<br />
</td>
</tr>
<tr>
<td><br /><hr size="1" /><!-- start: printthread_post -->
<strong>Valgrind bytes lost in newInteger?</strong> - <a href="http://beastie.cs.ua.edu/forum/member.php?action=profile&amp;uid=133">RussianBot</a> -  <strong>09-16-2018</strong>
<br />
<br />
So I'm trying to find out where memory leaks are located in my cda.c file. I modified test cda of test0 so that the only the very first insert into the empty array is occurring. It isn't even printing anything. And in trying to find where it could have happened I nulled out my entire insertCDA, so that it just returns. Even still: I end up with this report:<br />
<br />
<div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>==34== 4 bytes in 1 blocks are definitely lost in loss record 1 of 1<br />
==34==    at 0x4C2DBF6: malloc (vg_replace_malloc.c:299)<br />
==34==    by 0x4009E8: newINTEGER (integer.c:15)<br />
==34==    by 0x4009AC: main (testCDA.c:53)</code></div></div><br />
The setup for my newCDA is the same as my newDA, which runs with no leaks, so I don't think that's the issue. And with literally nothing in my insertCDA, is there really some kind of issue with integer.c?
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
<strong>RE: Valgrind bytes lost in newInteger?</strong> - <a href="http://beastie.cs.ua.edu/forum/member.php?action=profile&amp;uid=133">RussianBot</a> -  <strong>09-17-2018</strong>
<br />
<br />
Looking at my valgrind leaks, I noticed that my cda, stack and queue all have the same leak, centering around the newINTEGER function in the very first insert of the program. My da doesn't have this issue though, even though the tests look similar to each other...
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
<strong>RE: Valgrind bytes lost in newInteger?</strong> - <a href="http://beastie.cs.ua.edu/forum/member.php?action=profile&amp;uid=1">lusth</a> -  <strong>09-17-2018</strong>
<br />
<br />
If you do a remove, you need to free the removed object.<br />
<br />
When freeCDA is called, you need to free the objects stored in the array if you've been given access to their freeing function.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --></td>
</tr>
</table>
</body>
</html>
<!-- end: printthread -->