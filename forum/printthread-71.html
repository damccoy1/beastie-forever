<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><!-- start: printthread -->
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<title> Updating capacity when growing CDA - Printable Version</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style type="text/css">
body { font-family: Verdana, Arial, sans-serif; font-size: 13px; }
.largetext { font-family: Verdana, Arial, sans-serif; font-size: medium; font-weight: bold; }
img { max-width: 100%; height: auto; }
</style>
</head>
<body>
<table width="98%" align="center">
<tr>
<td valign="top"><a href="index.php"><img src="http://beastie.cs.ua.edu/forum/images/worm-logo.jpg" alt="Forums" title="Forums" border="0" /></a></td>
</tr>
<tr>
<td>
<span class="largetext"> <a href="showthread.php?tid=97">Updating capacity when growing CDA</a> - Printable Version</span><br />
<br />
+- Forums (<em>http://beastie.cs.ua.edu/forum</em>)<br />
<!-- start: printthread_nav -->
+-- Forum: CS201 (<i>http://beastie.cs.ua.edu/forum/forumdisplay.php?fid=1</i>)<br />
<!-- end: printthread_nav --><!-- start: printthread_nav -->
+--- Forum: Project 0 (<i>http://beastie.cs.ua.edu/forum/forumdisplay.php?fid=6</i>)<br />
<!-- end: printthread_nav -->
+--- Thread:  Updating capacity when growing CDA (<em>/showthread.php?tid=97</em>)<br />
<br />
</td>
</tr>
<tr>
<td><br /><hr size="1" /><!-- start: printthread_post -->
<strong>Updating capacity when growing CDA</strong> - <a href="http://beastie.cs.ua.edu/forum/member.php?action=profile&amp;uid=47">hajames</a> -  <strong>09-18-2018</strong>
<br />
<br />
Hey everyone! I just discovered a bug that's been causing my CDA to seg fault. <br />
<br />
When growing your CDA, make sure to update items-&gt;capacity <span style="font-weight: bold;" class="mycode_b"><span style="font-style: italic;" class="mycode_i">after </span></span>growing the array and copying all your items over. If you update capacity before growing, then getCDA() will use the new capacity when generating indices and try to access indices in your original array that don't exist... which is bad. If you're experiencing segmentation faults or assertion errors when trying to display or insert after doubling, this might be your issue!<br />
<br />
**Disclaimer: This works when using a temp array and copying items over to double. Not sure how this would affect doubling using realloc().<br />
<br />
Thanks!
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --></td>
</tr>
</table>
</body>
</html>
<!-- end: printthread -->