<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- XML file produced from file: movements.tex
     using Hyperlatex v 2.9-in-waiting-rk (oct06) (c) Otfried Cheong
     on Emacs 22.2.1, Mon Oct 24 08:43:47 2016 -->
<head>
<title>songlib: movements withing a song</title>

<style type="text/css">
.maketitle { align : center }
div.abstract { margin-left: 20%; margin-right: 10%; }
h3.abstract  { align : center }
div.verse, div.quote, div.quotation {
  margin-left : 10%; 
  margin-right : 10%;
}
dt {font-weight: bold}
</style>
<link rel=stylesheet
        href="lusth.css" type="text/css" />
</head>
<body>
<p><h1 class="maketitle">Songlib: movements within a song<br /></h1>
<h2 class="maketitle">written by: Song Li Buser</h2>
<h3 class="maketitle">Revision Date: October 24, 2016</h3>
</p>

<h3><a name="id1"><a href="movements.pdf">Printable Version</a></a></h3><hr />
<h1><a name="id2">Moving forwards and backwards in time</a></h1><p>
Songlib keeps track of the current location in the track
being generated. When a note is played, the amplitude
data is added to the output starting at the current location.
After the note is played, the current location is moved
forward so that the next note played will follow sequentially
the just played note.
</p>
<p>It is possible to move forwards into the track being generated
without playing any notes. It also is possible to move
backwards as well, so that notes can be overlapped: 
</p>
<pre>
    double forwards(double beats);
    double backwards(double beats);
</pre>
<p>The <i>forwards</i> function moves the current location ahead the given
number of beats while the backwards function moves the current location
in the opposite direction.
Both functions return the previous location (specified as the number
of beats since the beginning).
</p>
<p>The forwards and backwards make a move relative to the current location.
It is also possible to move to an absolute location in the track,
with the location specified by the number of samples into the track:
</p>
<pre>
    int setLocation(int samples);
    int getLocation(void);
</pre>
<p>The <i>setLocation</i> function returns the previous current location.
If you wish to move <i>x</i> beats into the track, use the call:
</p>
<pre>
    setLocation(beatsToSamples(y));
</pre>
<p>If you wish to move <i>x</i> minutes and <i>y</i> seconds into the track,
use either of the calls:
</p>
<pre>
    moveTo(x,y);
    setLocation(secondsToSamples(x*60+y));
</pre>
<p>The <i>moveTo</i> function returns the current location in the track in seconds
(prior to the move), while the second call returns that location in samples.
</p>
<p>See also:
<a href="keepingTime.html">keepingTime</a>,
<a href="controlFunctions.html">controlFunctions</a>
<address><a href="mailto:lusth@cs.ua.edu">lusth@cs.ua.edu</a></address><br />
</body></html>
