<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- XML file produced from file: builtInFilters.tex
     using Hyperlatex v 2.9-in-waiting-rk (oct06) (c) Otfried Cheong
     on Emacs 22.2.1, Mon Nov  7 10:35:13 2011 -->
<head>
<title>Songlib: built-in filters</title>

<style type="text/css">
.maketitle { align : center }
div.abstract { margin-left: 20%; margin-right: 10%; }
h3.abstract  { align : center }
div.verse, div.quote, div.quotation {
  margin-left : 10%; 
  margin-right : 10%;
}
dt {font-weight: bold}
</style>
<link rel=stylesheet
        href="lusth.css" type="text/css" />
</head>
<body>
<p><h1 class="maketitle">Songlib: built-in filters
</h1>
<h2 class="maketitle">Song Li Buser</h2>
<h3 class="maketitle">Revision Date: November 7, 2011</h3>
</p>

<h3><a name="id1"><a href="builtInFilters.pdf">Printable Version</a></a></h3><p><hr />The following filters come with the <i><b>songlib</b></i> system. For information
on how to use them, see
<a href="filters.html">filters</a>.
</p>
<p><hr />Funtion: 
</p>
<pre>
void lowPass(int *data,int length,double frequency,double resonance);
</pre>
<p>This filter removes the higher frequencies from the audio data.
Frequencies above the given <em>frequency</em> are severely attenuated.
According to the
<a href="http://www.musicdsp.org">http://www.musicdsp.org</a>
website, the <em>resonance</em>
parameter should be between <i>sqrt(2)</i> (lowest resonance)
to 0.1 (highest resonance),
assuming <em>frequency</em> is greater than three or four
kilohertz. For more info on acoustic resonance, see
<a href="http://en.wikipedia.org/wiki/Acoustic&#95;resonance">http://en.wikipedia.org/wiki/Acoustic&#95;resonance</a>.
</p>
<p>4000 : the 1kHz - 4kHz mid frequency band is where the human ear is most
sensitive
</p>
<p>1.414 : the square root of 2 (1.414) is the ratio between the average and
peak values of a sine wave
</p>
<p><hr />Function:
</p>
<pre>
   void highPass(int *data,int length,double frequency,double resonance);
</pre>
<p>Like <em>lowPass</em> but attenuates frequencies below the given <em>frequency</em>.
</p>
<p><hr />Function:
</p>
<pre>
    void amplify(int *data,int length,double amp);
</pre>
<p>This filters scales all the values in <em>data</em> by <em>amp</em>. If <em>amp</em>
is greater than one, the effect will be to increase the volume.
Conversely, a value less than one will decrease the volume.
</p>
<p><hr />Function:
</p>
<pre>
    void attackLinear(int *data,int length,double amp,double delta)
\color{black}

There are two important cases for this filter. The first case is:

\begin{verbatim}
    amp &lt; 1 and delta &gt; 0
</pre>
<p>This softens the first part of the note. Sample i is scaled thusly:
</p>
<pre>
    if (amp + delta * i &lt; 1)
	i = i * (amp + delta * i);
</pre>
<p>The first sample is scaled the most, the second a little less, the
third, a little less yet, and so on.
</p>
<p>The other important case is:
</p>
<pre>
    amp &gt; 1 and delta &lt; 0
</pre>
<p>This increases the loundess of the first part of the note.
Sample <em>i</em> is scaled thusly:
</p>
<pre>
    if (amp + delta * i &gt; 1)
	i = i * (amp + delta * i);
</pre>
<p>Here are two typical calls:
</p>
<pre>
    attackLinear(data,length,0.5,0.0002);

    attackLinear(data,length,1.5,-0.0002);
</pre>
<p><hr />Function:
</p>
<pre>
    void attackExponential(int *data,int length,double amp,double delta);
</pre>
<p>Like <em>attackLinear</em> only the ramp is exponential.
Sample <em>i</em> is scaled
as follows:
</p>
<pre>
    i = i * amp * pow(delta,i);
</pre>
<p>Here are two typical calls:
</p>
<pre>
    attackExponential(data,length,0.5,0.100075);

    attackExponential(data,length,1.5,0.99995);
</pre>
<p><hr />Function:
</p>
<pre>
    void diminishLinear(int *data,int length,int offset,double delta);

    void diminishExponential(int *data,int length,int offset,double factor);
</pre>
<p>Like the attack filters, but works on the end of the data rather than
the beginning. Sample <em>i</em> is updated thusly:
</p>
<pre>
    i = i * (1 + delta * i);  //linear

    i = i * pow(factor,i);    //exponential
</pre>
<p><hr />Function:
</p>
<pre>
    distort1(int *data,int length,int cutoff);

    distort2(int *data,int length,int cutoff);

    distort3(int *data,int length,int cutoff,double level);
</pre>
<p>Three filters for adding distortion.
<address><a href="mailto:lusth@cs.ua.edu">lusth@cs.ua.edu</a></address><br />
</body></html>
